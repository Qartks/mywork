window.IOWA=window.IOWA||{},IOWA.Analytics=IOWA.Analytics||function(t){"use strict";function e(e){this.loadTrackingCode();var n={siteSpeedSampleRate:50};"dev"==t.ENV?n.cookieDomain="none":n.cookiePath=window.PREFIX||"/io2015",ga("create",e,n),this.trackPageView(),this.trackPerfEvent("template-bound","Polymer"),this.trackPerfEvent("HTMLImportsLoaded","Polymer"),this.trackPerfEvent("polymer-ready","Polymer"),this.trackNotificationPermission();var o=t.location.search.match(/utm_error=([^&]+)/);o&&this.trackError("notification",decodeURIComponent(o[1])),this.startTimes_={}}var n="prod"==t.ENV?"UA-58124138-1":"UA-58124138-2";return e.prototype.POLYMER_ANALYTICS_TIMEOUT_=6e4,e.prototype.loadTrackingCode=function(){!function(t,e,n,o,i,a,r){t.GoogleAnalyticsObject=i,t[i]=t[i]||function(){(t[i].q=t[i].q||[]).push(arguments)},t[i].l=1*new Date,a=e.createElement(n),r=e.getElementsByTagName(n)[0],a.async=1,a.src=o,r.parentNode.insertBefore(a,r)}(window,document,"script","//www.google-analytics.com/analytics.js","ga")},e.prototype.trackPageView=function(t,e){var n={};t&&(n.page=t),"function"==typeof e&&(n.hitCallback=e),ga("send","pageview",n)},e.prototype.trackPerf=function(t,e,n,o,i,a){null!==i&&n>i&&(e+=" - outliers"),ga("send","timing",t,e,parseInt(n),o,a)},e.prototype.trackEvent=function(t,e,n,o,i){ga("send",{hitType:"event",eventCategory:t,eventAction:e,eventLabel:n,eventValue:o,hitCallback:i})},e.prototype.trackError=function(t,e){ga("send","event","error",t,String(e))},e.prototype.trackSocial=function(t,e,n){ga("send","social",t,e,n)},e.prototype.trackPerfEvent=function(e,n){t.performance&&t.performance.now&&document.addEventListener(e,function(){var o=t.performance.now();"dev"==t.ENV&&console.info(e,"@",o),this.trackPerf(n,e,o,null,this.POLYMER_ANALYTICS_TIMEOUT_,{page:location.pathname})}.bind(this))},e.prototype.timeStart=function(t,e,n){var o=this.startTimes_[t]||(this.startTimes_[t]={});o[e]=n},e.prototype.timeEnd=function(t,e,n,o,i){var a=this.startTimes_[t];if(a){var r=a[e];null!==r&&(this.trackPerf(t,e,n-r,o,i),a[e]=null)}},e.prototype.trackNotificationPermission=function(){if(this.trackEvent("notifications","startup",t.Notification?t.Notification.permission:"unsupported"),navigator.permissions){var e=this;navigator.permissions.query({name:"notifications"}).then(function(t){t.onchange=function(){e.trackEvent("notifications","change",this.status)}})}},new e(n)}(window);